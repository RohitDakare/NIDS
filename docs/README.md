# ğŸ›¡ï¸ AI-Based Network Intrusion Detection System (NIDS)

A comprehensive Python-based backend for a hybrid Network Intrusion Detection System that combines signature-based detection and machine learning-based anomaly detection.

## ğŸ¯ Features

- **Real-time Packet Sniffing**: Capture and analyze live network traffic
- **ML-Based Anomaly Detection**: Pre-trained machine learning models for threat detection
- **Signature-Based Detection**: Rule-based pattern matching for known attacks
- **RESTful API**: FastAPI-based interface for system control and monitoring
- **Alerting & Logging**: Comprehensive logging and alert generation
- **Database Storage**: MongoDB-based storage for alerts and packet data

## ğŸ—ï¸ Architecture

```
NIDS/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                 # FastAPI application entry point
â”‚   â”œâ”€â”€ models/                 # Pydantic models for API
â”‚   â”œâ”€â”€ core/                   # Core NIDS functionality
â”‚   â”‚   â”œâ”€â”€ packet_sniffer.py   # Network packet capture
â”‚   â”‚   â”œâ”€â”€ ml_detector.py      # ML-based anomaly detection
â”‚   â”‚   â”œâ”€â”€ signature_detector.py # Signature-based detection
â”‚   â”‚   â””â”€â”€ alert_manager.py    # Alert generation and management
â”‚   â”œâ”€â”€ api/                    # API routes
â”‚   â”œâ”€â”€ database/               # Database models and operations
â”‚   â””â”€â”€ utils/                  # Utility functions
â”œâ”€â”€ models/                     # Pre-trained ML models
â”œâ”€â”€ data/                       # Training data and logs
â”œâ”€â”€ tests/                      # Unit tests
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ğŸš€ Quick Start

### 1. Automated Setup (Recommended)

```bash
# Clone the repository
git clone <repository-url>
cd NIDS

# Run the automated setup script
python setup.py
```

The setup script will:
- Check Python version compatibility
- Create a virtual environment
- Install all dependencies
- Create necessary directories
- Generate configuration files

### 2. Manual Setup

```bash
# Clone the repository
git clone <repository-url>
cd NIDS

# Set up the environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install -r requirements.txt

# Configure the system
cp config/env.example .env
# Edit .env file with your configuration
```

### 3. Security Hardening (REQUIRED for Production)

```bash
# Quick security setup (5 minutes)
python scripts/secure_deploy.py

# Setup MongoDB authentication
mongo < setup_mongodb.js

# Generate SSL certificates
setup_ssl.bat  # Windows
./setup_ssl.sh  # Linux/Mac

# Test security measures
python scripts/security_test.py
```

### 4. Train ML Models (Optional)

```bash
# Quick training with synthetic data
python scripts/train_models.py --synthetic --quick

# Or launch training dashboard
python scripts/train_models.py --dashboard

# For detailed training guide, see docs/ML_TRAINING_GUIDE.md
```

### 5. Run the application

```bash
python -m app.main
```

### 6. Access the interfaces

- **API Documentation**: http://localhost:8000/docs
- **Health Check**: http://localhost:8000/api/v1/health
- **Frontend Dashboard**: http://localhost:3000 (if running Next.js frontend)
- **ML Training Dashboard**: http://localhost:8001 (if launched)

**ğŸ”’ Security Note**: All API endpoints require authentication in production. Use the API key generated by `secure_deploy.py`.
# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
```

### 4. Start the Application

```bash
# Activate virtual environment
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Start the application
python run.py

# Or use the startup scripts
./start_nids.sh  # Unix/Linux/Mac
start_nids.bat   # Windows
```

### 5. Access the System

- **API Documentation**: http://localhost:8000/docs
- **System Info**: http://localhost:8000/info
- **Health Check**: http://localhost:8000/api/v1/health

### 6. Run the Demo

```bash
# In a new terminal (with virtual environment activated)
python demo.py
```

## ğŸ“¡ API Endpoints

The system provides the following REST API endpoints:

### Core Operations
- `POST /api/v1/start-sniffer` - Begin packet monitoring
- `POST /api/v1/stop-sniffer` - Stop monitoring
- `GET /api/v1/status` - System health and status

### Data Retrieval
- `GET /api/v1/alerts` - Retrieve recent alerts
- `GET /api/v1/packets` - Show recent captured traffic
- `GET /api/v1/stats` - Detailed detection statistics
- `GET /api/v1/correlation` - Alert correlation analysis

### Configuration
- `POST /api/v1/config/sniffer` - Update sniffer configuration
- `POST /api/v1/config/ml` - Update ML model configuration
- `GET /api/v1/signature-rules` - Get signature rule statistics

### Management
- `POST /api/v1/alerts/{id}/resolve` - Resolve an alert
- `DELETE /api/v1/alerts/{id}` - Delete an alert
- `POST /api/v1/alerts/clear` - Clear alerts
- `GET /api/v1/export/alerts` - Export alerts (JSON/CSV)

## ğŸ”§ Configuration

Create a `.env` file in the root directory:

```env
# Network Interface
INTERFACE=eth0
PACKET_COUNT=1000

# ML Model Settings
MODEL_PATH=models/nids_model.joblib
CONFIDENCE_THRESHOLD=0.8

# MongoDB Database Configuration
MONGODB_URL=mongodb://localhost:27017
MONGODB_DB_NAME=nids

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/nids.log
```

## ğŸªŸ Windows Installation

If you're installing on Windows and encounter scikit-learn compilation issues, see the [Windows Installation Guide](WINDOWS_INSTALL.md) for detailed troubleshooting steps.

## ğŸ§  Machine Learning Models

The system supports various ML models for anomaly detection:

- Random Forest
- Support Vector Machine (SVM)
- Neural Networks
- Isolation Forest

Pre-trained models should be placed in the `models/` directory.

## ğŸ“Š Monitoring and Alerts

The system generates alerts for:
- ML-based anomaly detection
- Signature-based pattern matching
- System health issues
- Performance metrics

Alerts are stored in the database and can be retrieved via API.

## ğŸ”’ Security Considerations

- Run with appropriate permissions for packet capture
- Secure API endpoints in production
- Implement rate limiting
- Use HTTPS in production environments
- Regular model updates and retraining

## ğŸ§ª Testing

```bash
# Run tests
python -m pytest tests/

# Run with coverage
python -m pytest tests/ --cov=app
```

## ğŸ“ License

This project is licensed under the MIT License - see the LICENSE file for details.

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

## ğŸ“ Support

For issues and questions, please open an issue on the repository. 


rohit dakare
